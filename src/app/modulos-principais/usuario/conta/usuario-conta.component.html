<!--Titulo da página-->
<titulo-pagina titulo="Sistema de Controle Financeiro" subtitulo="Conta do Usuário" icone="fas fa-cog"></titulo-pagina>

<!-- Btn voltar-->
<btn-voltar rota="/categoria" [parametros]="null"></btn-voltar>

<form [formGroup]="formUsuario" (submit)="enviar()">

    <div class="form-group mb-4 mt-4">
        <label class="mb-0" for="nome">Nome</label>
        <input type="text" class="form-control" id="nome" formControlName="nome"
            [ngClass]="{'is-invalid': verificaCampo('nome')}" autocomplete="off">
        <span class="float-end text-end">{{tamanhoCampo('nome')}}/50</span>

        <div class="invalid-feedback" *ngIf="formUsuario.get('nome')?.errors?.['required']">Nome é requerido!</div>
        <div class="invalid-feedback" *ngIf="formUsuario.get('nome')?.errors?.['minlength']">Nome é menor que 3
            caracteres!</div>
        <div class="invalid-feedback" *ngIf="formUsuario.get('nome')?.errors?.['maxlength']">Nome é maior que 50
            caracteres!</div>
    </div>

    <div class="form-group mb-4 mt-3">
        <label class="mb-0" for="email">Email</label>
        <input type="text" class="form-control" id="email" formControlName="email"
            [ngClass]="{'is-invalid': verificaCampo('email')}" autocomplete="off">
        <span class="float-end text-end">{{tamanhoCampo('email')}}/80</span>

        <div class="invalid-feedback" *ngIf="formUsuario.get('email')?.errors?.['required']">Email é requerido!</div>
        <div class="invalid-feedback" *ngIf="formUsuario.get('email')?.errors?.['maxlength']">Email é maior que 80
            caracteres!</div>
        <div class="invalid-feedback" *ngIf="formUsuario.get('email')?.errors?.['email']">Email incorreto!</div>
    </div>

    <div class="form-group mb-5 mt-3">
        <label class="mb-0" for="senha">Nova Senha</label>
        <input type="password" class="form-control" id="senha" formControlName="senha"
            [ngClass]="{'is-invalid': verificaCampo('senha')}" autocomplete="off">
        <span class="float-end text-end">{{tamanhoCampo('senha')}}/15</span>

        <div class="invalid-feedback" *ngIf="formUsuario.get('senha')?.errors?.['required']">Senha é requerido!</div>
        <div class="invalid-feedback" *ngIf="formUsuario.get('senha')?.errors?.['minlength']">Senha é menor que 8
            caracteres!</div>
        <div class="invalid-feedback" *ngIf="formUsuario.get('senha')?.errors?.['maxlength']">Senha é maior que 15
            caracteres!</div>
    </div>

    <button [disabled]="formUsuario.invalid || desativaBotaoForm" type="submit" class="btn btn-primary mt-4 me-2 efeito-sobresalto">
        <i class="fas fa-user-edit me-1"></i>Atualizar</button>

    <button type="button" (click)="excluir()" class="btn btn-danger mt-4 efeito-sobresalto"><i class="fas fa-user-times me-1"></i>Excluir Conta</button>

</form>
